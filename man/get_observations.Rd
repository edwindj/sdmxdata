% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_observations.R
\name{get_observations}
\alias{get_observations}
\title{Get observations from an SDMX provider}
\usage{
get_observations(
  endpoint = NULL,
  agencyID,
  id,
  version = "latest",
  ref = NULL,
  startPeriod = NULL,
  endPeriod = NULL,
  filter_on = list(),
  use_factor = TRUE,
  ...,
  language = NULL,
  as.data.table = FALSE,
  dim_contents = c("label", "both", "id"),
  attributes_contents = c("label", "id", "both"),
  obs_value_numeric = TRUE,
  raw = FALSE,
  drop_first_columns = !raw,
  cache = TRUE,
  verbose = getOption("sdmxdata.verbose", FALSE)
)
}
\arguments{
\item{endpoint}{An endpoint, url or \code{\link[httr2:request]{httr2::request()}} object.}

\item{agencyID}{The agency ID}

\item{id}{The id of the dataflow}

\item{version}{The version of the dataflow, default "latest"}

\item{ref}{The dataflow reference can be used in stead of agencyID, id and version}

\item{startPeriod}{The start period for which the data should be returned, works only for dataflows with an explicit time dimension.}

\item{endPeriod}{The end period for which the data should be returned, works only for dataflows with an explicit time dimension.}

\item{filter_on}{A named list of filters to apply to the data, if not specified or \code{list()}, it is the default selection, set to \code{NULL} to select all.}

\item{use_factor}{if \code{TRUE} then dimension and attributes columns are factors, otherwise character}

\item{...}{Additional parameters to pass to the request}

\item{language}{The language of the metadata}

\item{as.data.table}{If \code{TRUE} return a \code{\link[=data.table]{data.table()}}, otherwise a \code{\link[=data.frame]{data.frame()}}}

\item{dim_contents}{The contents of the dimension columns, either "label", "id" or "both"}

\item{attributes_contents}{The contents of the attribute columns, either "label", "id" or "both"}

\item{obs_value_numeric}{Should the OBS_VALUE column be coerced to numeric? Default is \code{TRUE}}

\item{raw}{If \code{TRUE} return the raw data.frame from the SDMX, otherwise the data.frame is processed}

\item{drop_first_columns}{Should the first columns be dropped? Default is \code{TRUE} (if not raw)}

\item{cache}{if \code{TRUE} cache the accompanying  meta data.}

\item{verbose}{If \code{TRUE} print information about the request}
}
\value{
\code{\link[=data.frame]{data.frame()}} or \code{\link[data.table:data.table]{data.table::data.table()}} depending on \code{as.data.table}
}
\description{
Get observations from an SDMX provider. It retrieves the
data from the SDMX provider and returns it as a data.frame.
}
\details{
By default the dimension and attribute columns are recoded to
factors with labels. This can be changed with the \code{dim_contents} and
\code{attributes_contents} arguments.
}
\examples{
dfs <- list_dataflows()
ref <- dfs$ref[4]

obs <- get_observations(
  ref = ref,
  filter_on = list(
    "RegioS" = c("NL01"),
    "Perioden" = c("2024MM01")
  )
)

obs
}
